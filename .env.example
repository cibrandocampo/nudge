# ─────────────────────────────────────────────────────────
#  Nudge — Environment variables
#  Copy this file to .env and fill in the real values.
#  NEVER commit .env to the repository.
# ─────────────────────────────────────────────────────────

# ── Project ───────────────────────────────────────────────
PROJECT_NAME=nudge

# ── Docker images ────────────────────────────────────────
DOCKER_NUDGE_VERSION=stable
DOCKER_POSTGRES_VERSION=16-alpine
DOCKER_REDIS_VERSION=7-alpine

# Port exposed on the host for the frontend (HTTP)
NUDGE_HTTP_PORT=80

# Internal backend port (gunicorn). Must stay 8000 unless you also update nginx.conf.
BACKEND_PORT=8000

# Gunicorn worker processes (rule of thumb: 2 × CPU cores + 1)
GUNICORN_WORKERS=2

# Log level for Celery (debug | info | warning | error | critical)
LOG_LEVEL=info

# Host path for PostgreSQL data persistence
DATA_PATH=./data

# ── Default admin user ───────────────────────────────────
# Created automatically on first startup if no superuser exists.
# ADMIN_PASSWORD is required; if not set, creation is skipped.
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change-me

# ── Django ───────────────────────────────────────────────
# Generate a secret key with:
#   python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=change-me

# Must be False in production
DJANGO_DEBUG=False

# Comma-separated list of allowed hosts
DJANGO_ALLOWED_HOSTS=yourdomain.com,localhost

# Comma-separated list of allowed CORS origins (no wildcard — always whitelist).
# See docs/ARCHITECTURE.md § "Security notes / CORS" for details.
CORS_ALLOWED_ORIGINS=https://yourdomain.com

# ── Database (PostgreSQL) ────────────────────────────────
POSTGRES_DB=nudge
POSTGRES_USER=nudge
POSTGRES_PASSWORD=change-me

# Full URL used by dj-database-url
DATABASE_URL=postgresql://nudge:change-me@db:5432/nudge

# ── Redis / Celery ────────────────────────────────────────
REDIS_URL=redis://redis:6379/0

# ── Web Push — VAPID keys ────────────────────────────────
# Generate the key pair with:
#   pip install py-vapid && vapid --gen
# or:
#   python -m pywebpush --gen-key
VAPID_PRIVATE_KEY=
VAPID_PUBLIC_KEY=

# Contact email included in VAPID claims
VAPID_CLAIMS_EMAIL=admin@example.com

# ── Frontend (Vite) ───────────────────────────────────────
# API base URL, no trailing slash
VITE_API_BASE_URL=https://yourdomain.com/api

# VAPID public key (same value as VAPID_PUBLIC_KEY, exposed to the frontend)
VITE_VAPID_PUBLIC_KEY=
